<!-- a page for movies-->

{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cine Manager | Movies</title>

    <!-- css file -->
    <link rel="stylesheet" href="{% static 'css/global.css'%}">
    <link rel="stylesheet" href="{% static 'css/app.css'%}">
    <link rel="stylesheet" href="{% static 'css/new_movie_form.css'%}">

    <!-- js file -->
    <script src="{% static 'js/popup.js'%}"></script>
</head>
<body>
    <div class="container">
        <div class="contents">
            <h1>Cine Manager Platform</h1>
            <div class="header">
                <div class="text">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" onclick="displayPopup()"/>
                    </svg>          
                    Movies
                </div>
                <div class="buttons">
                    <button class="log-out">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15" />
                        </svg>                  
                        Log Out
                    </button>
                    <button class="add-sale" id="button-new">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>              
                        Add
                    </button>
                </div>
            </div>
            <div class="head-blocks">
                <div class="block" id="purchases">
                    <div class="block-content">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
                        </svg>                  
                        <span class="block-number" id="total-amount"></span>
                        <span class="block-text">Total Amount</span>
                    </div>
                </div>
                <div class="block" id="customers">
                    <div class="block-content">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
                        </svg>
                        <span class="block-number" id="total-customers"></span>
                        <span class="block-text">Total Movie</span>
                    </div>
                </div>
                <div class="block" id="sales">
                    <div class="block-content">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
                        </svg>                  
                        <span class="block-number" id="total-sales"></span>
                        <span class="block-text">Total Sales</span>
                    </div>
                </div>
                <div class="block" id="events">
                    <div class="block-content">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25-.75L17.25 9m0 0L21 12.75M17.25 9v12" />
                        </svg>
                        <span class="block-number" id="total-customers-end"></span>
                        <span class="block-text">Total Customers</span>
                    </div>
                </div>
            </div>
        
            <div id="loading-message" style="display: none;">Veuillez patienter, Actualisation des donnees en cours...</div>
            

            <!-- 
                #############################
                #############################
                principal contents to display movies
            -->
            <div class="main">
                <ul>
                    {% for movie in movies %}
                        <li>{{ movie.title }} realise par {{ movie.director}}</li>
                    {% empty %}
                        <li>Aucun film enregistre</li>
                    {% endfor %}
                </ul>
                
            </div>
        </div>
    </div>


    <!-- 
        #############################
        #############################
        popup to add movie
    -->
    <div class="popup_background">
        <div class="sales-container">
            <h1>New Sale</h1>
            <form action="" method="">
                <div class="sales-info">
                    <label for="sale_id">Client Name :</label>
                    <input type="text" placeholder="Enter Customer Name" id="customer_name">
                    <label for="client_name">Adress :</label>
                    <input type="text" placeholder="Enter Customer Adress" id="customer_adress">
                    <label for="sale_date">Email Adress :</label>
                    <input type="text" placeholder="Enter The Customer Mail" id="customer_email">
                </div>
                <div class="product-info">
                    <div class="info">
                        <label for="product">Product Name</label>
                        <input type="text" placeholder="product name" id="product_name">
                    </div>
                    <div class="info">
                        <label for="product">Stock Quantity</label>
                        <input type="number" placeholder="stock quantity" id="product_stock_qty">
                    </div>
                    <div class="info">
                        <label for="product">Unit Price/price</label>
                        <input type="number" placeholder="unit price" id="product_unit_price">
                    </div>
                    <div class="info">
                        <label for="product">Command Qty</label>
                        <input type="number" placeholder="command qty" id="command_qty">
                    </div>
                    <!-- <button class="ok-button" id="add-data">ADD</button> -->
                </div>
                <div class="total">
                    <label for="total">Total</label>
                    <input id="total_price" type="number" value = 0 disabled>
                </div>
                <div class="end-button">
                    <button id="temporaly-save">Temporaly Save</button>
                    <button id="restore-save">Restore Save</button>
                    <div class="buttons-separate">
                        <button type="reset" id="b-reset">Cancel</button>
                        <button type="submit" id="b-submit">Save</button>
                        <button type="submit" id="update-data">Update</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    
    
    <!-- 
        #############################
        #############################
        popup to log out
    -->
    <div class="logout-popup">
        <div class="logout-content">
            <div class="logout-text">
                <h2>Are you sure you want to log out?</h2>
                <p>This action will permantly delete your session and  datas</p>
            </div>
            <div class="logout-buttons">
                <button id="cancel-logout">No</button>
                <button id="confirm-logout">Yes</button>
            </div>
        </div>
    </div>
</body>
</html>